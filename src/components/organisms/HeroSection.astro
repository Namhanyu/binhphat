---
import "../../styles/hero-section.css";
import HeroSwiper from "../molecules/HeroSwiper.astro";
import RightArrow from "../atoms/Icons/RightArrow.astro";
import HeroMenu from "./HeroMenu.astro";
import SnsHeader from "../molecules/SnsHeader.astro";
import PageLogo from "../molecules/PageLogo.astro";

interface Props {
  images: Array<{
    src: string;
    alt: string;
    objectPosition?: string;
  }>;
  menuColor?: string;
}

const { images = [], menuColor = "white" } = Astro.props;
---

<section class="hero" id="hero" data-menu-color={menuColor}>
  <div
    class="hero-container hero-section-dark relative w-full h-[120vh] min-h-[1200px] max-h-[1500px] max-md:h-[130vh] min-[1850px]:h-[105vh] min-[1850px]:max-h-[1500px]"
  >
    <div
      class="absolute top-[40px] right-[150px] z-[3] max-md:left-[80px] max-md:top-[35%] max-md:min-width-[80vw] max-md:w-[max-content] max-sm:left-[25px]"
    >
      <HeroMenu />
    </div>

    <HeroSwiper images={images} autoPlay={true} interval={1500} />

    <div
      class="hero-inner-left absolute top-0 left-[58px] h-full w-[50px] z-20 flex flex-col justify-between max-lg:left-[40px] max-md:left-[25px] font-URWClassico"
    >
      <div
        class="hero-inner-left-top mt-[12rem] max-[1600px]:mt-[10rem] max-md:mt-[6rem] max-sm:mb-[15rem]"
      >
        <a
          href="https://auberge.l-qs.com/"
          target="_blank"
          class="text-[15px] max-md:text-[10px] tracking-[0.02em] text-white inline-block [writing-mode:vertical-rl] [text-orientation:mixed] font-URWClassico"
        >
          auberge.l-qs.com
        </a>
      </div>
      <div class="ml-4">
        <a
          class="inline-block text-[15px] leading-[20px] max-md:ml-2 max-md:text-[10px] max-md:leading-[10px] py-1 max-md:py-0.5"
          href="/">stay</a
        >
        <a
          class="inline-block text-[15px] leading-[20px] max-md:ml-2 max-md:text-[10px] max-md:leading-[10px] py-1 max-md:py-0.5"
          href="/restaurant">restaurant</a
        >
        <a
          class="inline-block text-[15px] leading-[20px] max-md:ml-2 max-md:text-[10px] max-md:leading-[10px] py-1 max-md:py-0.5"
          href="/">wedding</a
        >
      </div>
      <div class="hero-inner-left-bottom">
        <span
          class="text-[15px] max-md:text-[10px] tracking-[0.02em] text-white inline-block [writing-mode:vertical-rl] [text-orientation:mixed] mb-[12rem] max-[1600px]:mb-[6rem] max-md:mb-[6rem] text-center"
        >
          let’s enjoy <br />lake hamanako
        </span>
      </div>
    </div>

    <div
      class="hero-center-content absolute
            top-[18%]
            left-[108px]
            z-[1]
            w-[calc(100vw-216px)]
            min-[1850px]:top-[22.25%]
            max-md:left-[80px] max-md:w-[calc(100vw-160px)] max-md:flex max-md:flex-col max-md:justify-evenly max-md:h-1/2 max-md:gap-[50vw]
            max-sm:left-[35px] max-sm:top-[200px] max-sm:w-[calc(100vw-70px)]
            max-xs:top-[150px] max-xs:h-[60%] max-xs:justify-between max-xs:gap-0"
    >
      <div
        class="flex align-items-start mb-[15rem] max-[1600px]:mb-[10rem] max-md:mb-[6rem] max-sm:mb-[21rem]"
      >
        <div class="hero-top-left">
          <img
            class="w-[490px] min-[1440px]:w-[540px] max-md:w-[240px]"
            src="/assets/images/logo.webp"
            alt=""
          />
        </div>
      </div>

      <div
        class="flex items-start justify-center text-[1.25rem] max-md:text-[0.625rem]"
      >
        <div class="text-center w-[64%] font-URWClassico">
          An auberge with a view where everything is in harmony with Lake
          Hamana. <br />
          Time passes leisurely as you contemplate the view before your eyes.
        </div>
      </div>
    </div>

    <div
      class="hero-inner-right absolute top-0 right-[58px] h-[70%] w-[80px] z-[1] flex flex-col justify-between max-lg:right-[40px] max-md:right-[25px] max-sm:right-[10px]"
    >
      <div class="mt-[15rem] max-md:mt-[13rem]">
        <a
          href="#"
          class="inline-block [writing-mode:vertical-rl] border-l border-white pl-2 pb-2 group"
        >
          <span
            class="text-[15px] tracking-[0.02em] text-white no-underline mb-4 block max-md:text-[10px] max-md:mb-2"
          >
            ご宿泊のご予約
          </span>
          <span
            class="text-[26px] text-white no-underline flex items-center font-URWClassico max-md:text-[19px]"
          >
            reservation
            <RightArrow
              class="mt-[33px] rotate-90 w-6 h-2 transition-transform duration-300 group-hover:translate-y-2"
            />
          </span>
        </a>
      </div>

      <div class="text-end">
        <span
          class="flex align-items-center gap-[1.75rem] ml-auto [writing-mode:vertical-rl] font-URWClassico"
        >
          scroll down
          <div
            class="w-[1px] h-[197px] bg-white mx-auto mt-[1rem] max-md:mt-[0.5rem]"
          >
          </div>
        </span>
      </div>
    </div>

    <div
      class="absolute bottom-[12%] right-0 w-[38%] max-w-[500px] p-5 md:p-7 z-10
         md:bottom-[12%] md:w-[38%] md:text-base
         max-md:bottom-[3%] max-md:w-[70%] max-md:text-[12px]
         transition-all duration-300
         bg-[rgba(11,42,51,0.6)]
         hover:bg-gradient-to-br hover:from-[rgba(11,42,51,0.8)] hover:to-[rgba(11,42,51,1)]"
    >
      <div>
        <span>日本一おいしいグランピング</span>
        <a
          class="flex items-end justify-between mb-8 mt-2 group"
          href="https://hgs.l-qs.com/"
          target="_blank"
        >
          <img
            src="/assets/images/palm_spring_logo.svg"
            alt="hanamako-palm-spring"
            class="max-w-[168px] md:max-w-[310px] transition-transform duration-300"
          />
          <RightArrow
            class="min-w-6 w-6 h-2 transition-transform duration-300 group-hover:translate-x-2"
          />
        </a>
        <div class="w-full h-px bg-white"></div>
      </div>
    </div>
  </div>
</section>

<SnsHeader
  class="absolute top-[114px] right-10 md:top-[115px] md:right-16 z-20"
/>

<PageLogo />

<script>
  import { animateHeroSection } from "../../scripts/gsap-hero.js";

  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initAnimation);
  } else {
    initAnimation();
  }

  function initAnimation() {
    setTimeout(() => {
      animateHeroSection();
    }, 100);
  }
</script>
