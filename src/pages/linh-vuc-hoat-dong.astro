---
import Layout from "../layouts/Layout.astro";
import Hero from "../components/organisms/operation-fields/Hero.astro";
import Construction from "../components/organisms/operation-fields/Construction.astro";
import ElectroMechanical from "../components/organisms/operation-fields/ElectroMechanical.astro";
import Safety from "../components/organisms/operation-fields/Safety.astro";
import Equipment from "../components/organisms/operation-fields/Equipment.astro";
---

<Layout title="Bình Phát - Lĩnh vực hoạt động">
  <Hero />
  <Construction />
  <ElectroMechanical />
  <Safety />
  <Equipment />
</Layout>

<script>
  import { initScrollAnimations } from "../scripts/gsap-scroll.js";

  const runInit = () => {
    if ("requestIdleCallback" in window) {
      requestIdleCallback(initScrollAnimations, { timeout: 500 });
    } else {
      setTimeout(initScrollAnimations, 200);
    }
  };

  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", runInit);
  } else {
    runInit();
  }
</script>
