---
import Layout from "../layouts/Layout.astro";
import HeroSection from "../components/organisms/HeroSection.astro";
import AboutSection from "../components/organisms/AboutSection.astro";
import MetricsSection from "../components/organisms/MetricsSection.astro";

const heroImages = [
  {
    src: "/images/homepage/hero_1.webp",
    alt: "Hero Image 1",
    objectPosition: "object-center",
  },
  {
    src: "/images/homepage/hero_2.webp",
    alt: "Hero Image 2",
    objectPosition: "object-center",
  },
  {
    src: "/images/story/panorama_synthesis.webp",
    alt: "Hero Image 4",
    objectPosition: "object-center",
  },
];

const colorRanges = [
  { start: 2222, end: 3070 },
  { start: 4008, end: 5464 },
  { start: 7143, end: 10000 },
];
---

<Layout title="Bình Phát - Trang chủ" colorRanges={colorRanges}>
  <HeroSection images={heroImages} />

  <AboutSection />

  <MetricsSection />
</Layout>

<script>
  import { initScrollAnimations } from "../scripts/gsap-scroll.js";

  const runInit = () => {
    if ("requestIdleCallback" in window) {
      requestIdleCallback(initScrollAnimations, { timeout: 500 });
    } else {
      setTimeout(initScrollAnimations, 200);
    }
  };

  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", runInit);
  } else {
    runInit();
  }
</script>
